var global=Function("return this;")();!function(e){function r(e){var n=t[e]||window[e];if(!n)throw new Error("Requested module '"+e+"' has not been defined.");return n}function i(e,n){return t[e]=n}function s(e,t){for(var n in t)n!="noConflict"&&n!="_VERSION"&&(e[n]=t[n]);return e}function o(e,t,n){return typeof e=="string"||e.nodeName||e.length&&"item"in e||e==window?(n=u._select(e,t),n.selector=e):n=isFinite(e.length)?e:[e],s(n,o)}function u(e,t){return o(e,t)}e.global=e;var t={},n=e.$;e.provide=i,e.require=r,s(u,{_VERSION:"0.3.6",fn:o,ender:function(e,t){s(t?o:u,e)},_select:function(e,t){return(t||document).querySelectorAll(e)}}),s(o,{forEach:function(e,t,n){for(n=0,l=this.length;n<l;++n)n in this&&e.call(t||this[n],this[n],n,this);return this},$:u}),u.noConflict=function(){return e.$=n,this},typeof module!="undefined"&&module.exports&&(module.exports=u),e.ender=e.$=e.ender||u}(this),function(e){var t={exports:{}},n=t.exports,r=require("ender");(typeof define=="undefined"?function(e){e(require,n,t)}:define)(function(e,t,n,r){"use strict";function s(e){return e.charCodeAt(0)}var i=t;i.unescape=decodeURIComponent,i.escape=encodeURIComponent;var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};i.stringify=i.encode=function(e,t,n,s){t=t||"&",n=n||"=",e=e===null?r:e;switch(typeof e){case"object":return Object.keys(e).map(function(r){return Array.isArray(e[r])?e[r].map(function(e){return i.escape(o(r))+n+i.escape(o(e))}).join(t):i.escape(o(r))+n+i.escape(o(e[r]))}).join(t);default:if(!s)return"";return i.escape(o(s))+n+i.escape(o(e))}},i.parse=i.decode=function(e,t,n){t=t||"&",n=n||"=";var r={};return typeof e!="string"||e.length===0?r:(e.split(t).forEach(function(e){var t=e.split(n),s=i.unescape(t[0],!0),o=i.unescape(t.slice(1).join(n),!0);s in r?Array.isArray(r[s])?r[s].push(o):r[s]=[r[s],o]:r[s]=o}),r)}}),provide("querystring",t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");(function(e){function T(e){throw RangeError(b[e])}function N(e,t){var n=e.length;while(n--)e[n]=t(e[n]);return e}function C(e,t){var n=".";return N(e.split(n),t).join(n)}function k(e){var t=[],n=0,r=e.length,i,s;while(n<r)i=e.charCodeAt(n++),(i&63488)==55296&&n<r?(s=e.charCodeAt(n++),(s&64512)==56320?t.push(((i&1023)<<10)+(s&1023)+65536):t.push(i,s)):t.push(i);return t}function L(e){return N(e,function(e){var t="";return e>65535&&(e-=65536,t+=S(e>>>10&1023|55296),e=56320|e&1023),t+=S(e),t}).join("")}function A(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:f}function O(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function M(e,t,n){var r=0;e=n?E(e/p):e>>1,e+=E(e/t);for(;e>w*c>>1;r+=f)e=E(e/w);return E(r+(w+1)*e/(e+h))}function _(e,t){return e-=(e-97<26)<<5,e+(!t&&e-65<26)<<5}function D(e){var t=[],n=e.length,r,i=0,s=v,o=d,u,h,p,g,y,b,w,S,x,N;u=e.lastIndexOf(m),u<0&&(u=0);for(h=0;h<u;++h)e.charCodeAt(h)>=128&&T("not-basic"),t.push(e.charCodeAt(h));for(p=u>0?u+1:0;p<n;){for(g=i,y=1,b=f;;b+=f){p>=n&&T("invalid-input"),w=A(e.charCodeAt(p++)),(w>=f||w>E((a-i)/y))&&T("overflow"),i+=w*y,S=b<=o?l:b>=o+c?c:b-o;if(w<S)break;N=f-S,y>E(a/N)&&T("overflow"),y*=N}r=t.length+1,o=M(i-g,r,g==0),E(i/r)>a-s&&T("overflow"),s+=E(i/r),i%=r,t.splice(i++,0,s)}return L(t)}function P(e){var t,n,r,i,s,o,u,h,p,g,y,b=[],w,x,N,C;e=k(e),w=e.length,t=v,n=0,s=d;for(o=0;o<w;++o)y=e[o],y<128&&b.push(S(y));r=i=b.length,i&&b.push(m);while(r<w){for(u=a,o=0;o<w;++o)y=e[o],y>=t&&y<u&&(u=y);x=r+1,u-t>E((a-n)/x)&&T("overflow"),n+=(u-t)*x,t=u;for(o=0;o<w;++o){y=e[o],y<t&&++n>a&&T("overflow");if(y==t){for(h=n,p=f;;p+=f){g=p<=s?l:p>=s+c?c:p-s;if(h<g)break;C=h-g,N=f-g,b.push(S(O(g+C%N,0))),h=E(C/N)}b.push(S(O(h,0))),s=M(n,x,r==i),n=0,++r}}++n,++t}return b.join("")}function H(e){return C(e,function(e){return y.test(e)?D(e.slice(4).toLowerCase()):e})}function B(e){return C(e,function(e){return g.test(e)?"xn--"+P(e):e})}var r,i=typeof define=="function"&&typeof define.amd=="object"&&define.amd&&define,s=typeof n=="object"&&n,o=typeof t=="object"&&t,u=typeof require=="function"&&require,a=2147483647,f=36,l=1,c=26,h=38,p=700,d=72,v=128,m="-",g=/[^ -~]/,y=/^xn--/,b={overflow:"Overflow: input needs wider integers to process.","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=f-l,E=Math.floor,S=String.fromCharCode,x;r={version:"1.1.1",ucs2:{decode:k,encode:L},decode:D,encode:P,toASCII:B,toUnicode:H};if(s)if(o&&o.exports==s)o.exports=r;else for(x in r)r.hasOwnProperty(x)&&(s[x]=r[x]);else i?define("punycode",r):e.punycode=r})(this),provide("punycode",t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");(function(){"use strict";function n(e){return e instanceof i}function r(e){this.name="FutureTimeout",this.message="timeout "+e+"ms"}function i(t,i){function m(){h&&(clearTimeout(h),h=undefined),f>0&&(h=setTimeout(function(){v.deliver(new r(f)),h=undefined},f))}function g(){var e={},t={};u=0,Object.keys(s).forEach(function(n){var r=e[u]=s[n];o[n]&&(t[u]=!0),r.id=u,u+=1}),o=t,s=e}function y(e,n){var r;return Object.keys(s).forEach(function(i){var o=s[i];e===o.callback&&(n===o.context||o.context===t)&&(r=o)}),r}function b(e,t){var n={};return t.forEach(function(t){n[t]=function(){return e[t].apply(e,arguments),n}}),n}var s={},o={},u=0,a=0,f=0,l,c,h,p=!0,d,v=this;t="undefined"==typeof t?null:t,i=i||{},i.error=i.error||function(e){throw e},v.isFuture=n,v.setContext=function(e){t=e},v.setTimeout=function(e){f=e,m()},v.errback=function(){arguments.length<2?v.deliver.call(v,arguments[0]||new Error("`errback` called without Error")):v.deliver.apply(v,arguments)},v.callback=function(){var e=Array.prototype.slice.call(arguments);e.unshift(undefined),v.deliver.apply(v,e)},v.callbackCount=function(){return Object.keys(s).length},v.deliveryCount=function(){return a},v.setAsap=function(e){undefined===e&&(e=!0);if(!0!==e&&!1!==e){i.error(new Error("Future.setAsap(asap) accepts literal true or false, not "+e));return}p=e},v.hasCallback=function(){return!!y.apply(v,arguments)},v.removeCallback=function(e,t){var n=y(e,t);return n&&(delete s[n.id],o[n.id]=undefined,delete o[n.id]),v},v.deliver=function(){if(l){i.error(new Error("`Future().fulfill(err, data, ...)` renders future deliveries useless"));return}var e=Array.prototype.slice.call(arguments);return c=e,a+=1,Object.keys(s).forEach(function(t){var n=s[t],r=n.callback,i=n.context;o[t]&&(delete s[t],delete o[t]),r.apply(i,e)}),e[0]&&"FutureTimeout"!==e[0].name&&m(),v},v.fulfill=function(){arguments.length?v.deliver.apply(v,arguments):v.deliver(),l=!0},v.whenever=function(n,r){var f=u,l;if("function"!=typeof n){i.error(new Error("Future().whenever(callback, [context]): callback must be a function."));return}if(y(n,r)){i.error(new Error("Future().everytimers is a strict set. Cannot add already subscribed `callback, [context]`."));return}return l=s[f]={id:f,callback:n,context:null===r?null:r||t},p&&a>0&&(l.callback.apply(l.context,c),o[f]&&(delete o[f],delete s[f])),u+=1,u>=e&&g(),v},v.when=function(e,t){return o[u]=!0,v.whenever(e,t),v},d=b(v,["when","whenever"]),v.passable=function(){return d}}function s(e,t){return new i(e,t)}var e=Math.pow(2,52);s.isFuture=n,t.exports=s})(),provide("future",t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");!function(e,n){typeof t!="undefined"?t.exports=n():typeof define=="function"&&typeof define.amd=="object"?define(n):this[e]=n()}("domready",function(e){function h(e){c=1;while(e=t.shift())e()}var t=[],n,r=!1,i=document,s=i.documentElement,o=s.doScroll,u="DOMContentLoaded",a="addEventListener",f="onreadystatechange",l="readyState",c=/^loade|c/.test(i[l]);return i[a]&&i[a](u,n=function(){i.removeEventListener(u,n,r),h()},r),o&&i.attachEvent(f,n=function(){/^c/.test(i[l])&&(i.detachEvent(f,n),h())}),e=o?function(n){self!=top?c?n():t.push(n):function(){try{s.doScroll("left")}catch(t){return setTimeout(function(){e(n)},50)}n()}()}:function(e){c?e():t.push(e)}}),provide("domready",t.exports),r.ender(t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");!function(e){var t=require("domready");e.ender({domReady:t}),e.ender({ready:function(e){return t(e),this}},!0)}(ender),provide("domready/ender-bridge",t.exports),r.ender(t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");(function(e,n,r){typeof t!="undefined"&&t.exports?t.exports=n():typeof r["define"]!="undefined"&&r["define"]=="function"&&r.define.amd?define(e,n):r[e]=n()})("qwery",function(){function L(){this.c={}}function D(e){return A.g(e)||A.s(e,"(^|\\s+)"+e+"(\\s+|$)",1)}function P(e,t){var n=0,r=e.length;for(;n<r;n++)t(e[n])}function H(e){for(var t=[],n=0,r=e.length;n<r;++n)$(e[n])?t=t.concat(e[n]):t[t.length]=e[n];return t}function B(e){var t=0,n=e.length,r=[];for(;t<n;t++)r[t]=e[t];return r}function j(e){while(e=e.previousSibling)if(e[u]==1)break;return e}function F(e){return e.match(C)}function I(e,t,n,r,i,s,a,c,h,p,d){var v,m,g,y,b;if(this[u]!==1)return!1;if(t&&t!=="*"&&this[o]&&this[o].toLowerCase()!==t)return!1;if(n&&(m=n.match(f))&&m[1]!==this.id)return!1;if(n&&(b=n.match(l)))for(v=b.length;v--;)if(!D(b[v].slice(1)).test(this.className))return!1;if(h&&Q.pseudos[h]&&!Q.pseudos[h](this,d))return!1;if(r&&!a){y=this.attributes;for(g in y)if(Object.prototype.hasOwnProperty.call(y,g)&&(y[g].name||g)==i)return this}return r&&!R(s,Z(this,i)||"",a)?!1:this}function q(e){return O.g(e)||O.s(e,e.replace(b,"\\$1"))}function R(e,t,n){switch(e){case"=":return t==n;case"^=":return t.match(M.g("^="+n)||M.s("^="+n,"^"+q(n),1));case"$=":return t.match(M.g("$="+n)||M.s("$="+n,q(n)+"$",1));case"*=":return t.match(M.g(n)||M.s(n,q(n),1));case"~=":return t.match(M.g("~="+n)||M.s("~="+n,"(?:^|\\s+)"+q(n)+"(?:\\s+|$)",1));case"|=":return t.match(M.g("|="+n)||M.s("|="+n,"^"+q(n)+"(-|$)",1))}return 0}function U(e,t){var n=[],i=[],s,a,f,l,h,p,d,v,m=t,g=_.g(e)||_.s(e,e.split(N)),y=e.match(T);if(!g.length)return n;l=(g=g.slice(0)).pop(),g.length&&(f=g[g.length-1].match(c))&&(m=K(t,f[1]));if(!m)return n;d=F(l),p=m!==t&&m[u]!==9&&y&&/^[+~]$/.test(y[y.length-1])?function(e){while(m=m.nextSibling)m[u]==1&&(d[1]?d[1]==m[o].toLowerCase():1)&&(e[e.length]=m);return e}([]):m[r](d[1]||"*");for(s=0,a=p.length;s<a;s++)if(v=I.apply(p[s],d))n[n.length]=v;return g.length?(P(n,function(e){W(e,g,y)&&(i[i.length]=e)}),i):n}function z(e,t,n){if(X(t))return e==t;if($(t))return!!~H(t).indexOf(e);var r=t.split(","),i,s;while(t=r.pop()){i=_.g(t)||_.s(t,t.split(N)),s=t.match(T),i=i.slice(0);if(I.apply(e,F(i.pop()))&&(!i.length||W(e,i,s,n)))return!0}return!1}function W(e,t,n,r){function s(e,r,o){while(o=k[n[r]](o,e))if(X(o)&&I.apply(o,F(t[r]))){if(!r)return o;if(i=s(o,r-1,o))return i}}var i;return(i=s(e,t.length-1,e))&&(!r||Y(i,r))}function X(e,t){return e&&typeof e=="object"&&(t=e[u])&&(t==1||t==9)}function V(e){var t=[],n,r;e:for(n=0;n<e.length;++n){for(r=0;r<t.length;++r)if(t[r]==e[n])continue e;t[t.length]=e[n]}return t}function $(e){return typeof e=="object"&&isFinite(e.length)}function J(t){return t?typeof t=="string"?Q(t)[0]:!t[u]&&$(t)?t[0]:t:e}function K(e,t,n){return e[u]===9?e.getElementById(t):e.ownerDocument&&((n=e.ownerDocument.getElementById(t))&&Y(n,e)&&n||!Y(e,e.ownerDocument)&&a('[id="'+t+'"]',e)[0])}function Q(e,t){var i,s,o=J(t);if(!o||!e)return[];if(e===window||X(e))return!t||e!==window&&X(o)&&Y(e,o)?[e]:[];if(e&&$(e))return H(e);if(i=e.match(x)){if(i[1])return(s=K(o,i[1]))?[s]:[];if(i[2])return B(o[r](i[2]));if(et&&i[3])return B(o[n](i[3]))}return a(e,o)}function G(e,t){return function(n){var r,i;if(v.test(n)){e[u]!==9&&((i=r=e.getAttribute("id"))||e.setAttribute("id",i="__qwerymeupscotty"),n='[id="'+i+'"]'+n,t(e.parentNode||e,n,!0),r||e.removeAttribute("id"));return}n.length&&t(e,n,!1)}}var e=document,t=e.documentElement,n="getElementsByClassName",r="getElementsByTagName",i="querySelectorAll",s="useNativeQSA",o="tagName",u="nodeType",a,f=/#([\w\-]+)/,l=/\.[\w\-]+/g,c=/^#([\w\-]+)$/,h=/^\.([\w\-]+)$/,p=/^([\w\-]+)$/,d=/^([\w]+)?\.([\w\-]+)$/,v=/(^|,)\s*[>~+]/,m=/^\s+|\s*([,\s\+\~>]|$)\s*/g,g=/[\s\>\+\~]/,y=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,b=/([.*+?\^=!:${}()|\[\]\/\\])/g,w=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,E=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,S=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,x=new RegExp(c.source+"|"+p.source+"|"+h.source),T=new RegExp("("+g.source+")"+y.source,"g"),N=new RegExp(g.source+y.source),C=new RegExp(w.source+"("+E.source+")?"+"("+S.source+")?"),k={" ":function(e){return e&&e!==t&&e.parentNode},">":function(e,t){return e&&e.parentNode==t.parentNode&&e.parentNode},"~":function(e){return e&&e.previousSibling},"+":function(e,t,n,r){return e?(n=j(e))&&(r=j(t))&&n==r&&n:!1}};L.prototype={g:function(e){return this.c[e]||undefined},s:function(e,t,n){return t=n?new RegExp(t):t,this.c[e]=t}};var A=new L,O=new L,M=new L,_=new L,Y="compareDocumentPosition"in t?function(e,t){return(t.compareDocumentPosition(e)&16)==16}:"contains"in t?function(e,n){return n=n[u]===9||n==window?t:n,n!==e&&n.contains(e)}:function(e,t){while(e=e.parentNode)if(e===t)return 1;return 0},Z=function(){var t=e.createElement("p");return(t.innerHTML='<a href="#x">x</a>')&&t.firstChild.getAttribute("href")!="#x"?function(e,t){return t==="class"?e.className:t==="href"||t==="src"?e.getAttribute(t,2):e.getAttribute(t)}:function(e,t){return e.getAttribute(t)}}(),et=!!e[n],tt=e.querySelector&&e[i],nt=function(e,t){var n=[],r,s;try{return t[u]===9||!v.test(e)?B(t[i](e)):(P(r=e.split(","),G(t,function(e,t){s=e[i](t),s.length==1?n[n.length]=s.item(0):s.length&&(n=n.concat(B(s)))})),r.length>1&&n.length>1?V(n):n)}catch(o){}return rt(e,t)},rt=function(e,t){var n=[],i,s,o,a,f,l;e=e.replace(m,"$1");if(s=e.match(d)){f=D(s[2]),i=t[r](s[1]||"*");for(o=0,a=i.length;o<a;o++)f.test(i[o].className)&&(n[n.length]=i[o]);return n}return P(l=e.split(","),G(t,function(e,r,i){f=U(r,e);for(o=0,a=f.length;o<a;o++)if(e[u]===9||i||Y(f[o],t))n[n.length]=f[o]})),l.length>1&&n.length>1?V(n):n},it=function(e){typeof e[s]!="undefined"&&(a=e[s]?tt?nt:rt:rt)};return it({useNativeQSA:!0}),Q.configure=it,Q.uniq=V,Q.is=z,Q.pseudos={},Q},this),provide("qwery",t.exports),r.ender(t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");(function(e){var t=function(e){try{e=require("qwery")}catch(t){e=require("qwery-mobile")}finally{return e}}();e.pseudos=t.pseudos,e._select=function(n,r){return(e._select=function(e){try{return e=require("bonzo"),function(n,r){return/^\s*</.test(n)?e.create(n,r):t(n,r)}}catch(n){}return t}())(n,r)},e.ender({find:function(n){var r=[],i,s,o,u,a;for(i=0,s=this.length;i<s;i++){a=t(n,this[i]);for(o=0,u=a.length;o<u;o++)r.push(a[o])}return e(t.uniq(r))},and:function(t){var n=e(t);for(var r=this.length,i=0,s=this.length+n.length;r<s;r++,i++)this[r]=n[i];return this.length+=n.length,this},is:function(e,n){var r,i;for(r=0,i=this.length;r<i;r++)if(t.is(this[r],e,n))return!0;return!1}},!0)})(ender),provide("qwery/ender-bridge",t.exports),r.ender(t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");(function(e,n,r){typeof t!="undefined"&&t.exports?t.exports=n():typeof r["define"]!="undefined"&&r["define"]=="function"&&r.define.amd?define(e,n):r[e]=n()})("bonzo",function(){function _(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function D(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n||e[r],e[r],r,e);return e}function P(e,t,n){for(var r=0,i=e.length;r<i;r++)q(e[r])&&(P(e[r].childNodes,t,n),t.call(n||e[r],e[r],r,e));return e}function H(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function B(e){return e?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():e}function j(e){e[T]("data-node-uid")||e[x]("data-node-uid",++b);var t=e[T]("data-node-uid");return y[t]||(y[t]={})}function F(e){var t=e[T]("data-node-uid");t&&delete y[t]}function I(e,t){try{return e===null||e===undefined?undefined:e==="true"?!0:e==="false"?!1:e==="null"?null:(t=parseFloat(e))==e?t:e}catch(n){}return undefined}function q(e){return e&&e.nodeName&&e.nodeType==1}function R(e,t,n,r,i){for(r=0,i=e.length;r<i;++r)if(t.call(n,e[r],r,e))return!0;return!1}function U(e){return e=="transform"&&(e=C.transform)||/^transform-?[Oo]rigin$/.test(e)&&(e=C.transform+"Origin")||e=="float"&&(e=C.cssFloat),e?H(e):null}function W(e,t,n){var r=0,o=t||this,u=[],a=s&&typeof e=="string"&&e.charAt(0)!="<"?s(e):e;return D(J(a),function(e){D(o,function(t){var s=!t[i]||t[i]&&!t[i][i]?function(){var e=t.cloneNode(!0),n,r;if(o.$&&o.cloneEvents){o.$(e).cloneEvents(t),n=o.$(e).find("*"),r=o.$(t).find("*");for(var i=0;i<r.length;i++)o.$(n[i]).cloneEvents(r[i])}return e}():t;n(e,s),u[r]=s,r++})},this),D(u,function(e,t){o[t]=e}),o.length=r,o}function X(e,t,n){var r=Y(e),i=r.css("position"),s=r.offset(),o="relative",u=i==o,a=[parseInt(r.css("left"),10),parseInt(r.css("top"),10)];i=="static"&&(r.css("position",o),i=o),isNaN(a[0])&&(a[0]=u?0:e.offsetLeft),isNaN(a[1])&&(a[1]=u?0:e.offsetTop),t!=null&&(e.style.left=t-s.left+a[0]+S),n!=null&&(e.style.top=n-s.top+a[1]+S)}function V(e,t){return typeof t=="function"?t(e):t}function $(e){this.length=0;if(e){e=typeof e!="string"&&!e.nodeType&&typeof e.length!="undefined"?e:[e],this.length=e.length;for(var t=0;t<e.length;t++)this[t]=e[t]}}function J(e){return typeof e=="string"?Y.create(e):q(e)?[e]:e}function K(e,n,r){var i=this[0];return i?e==null&&n==null?(Q(i)?G():{x:i.scrollLeft,y:i.scrollTop})[r]:(Q(i)?t.scrollTo(e,n):(e!=null&&(i.scrollLeft=e),n!=null&&(i.scrollTop=n)),this):this}function Q(e){return e===t||/^(?:body|html)$/i.test(e.tagName)}function G(){return{x:t.pageXOffset||r.scrollLeft,y:t.pageYOffset||r.scrollTop}}function Y(e,t){return new $(e,t)}var e=this,t=window,n=t.document,r=n.documentElement,i="parentNode",s=null,o=/^(checked|value|selected)$/i,u=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,a=["<table>","</table>",1],f=["<table><tbody><tr>","</tr></tbody></table>",3],l=["<select>","</select>",1],c=["_","",0,1],h={thead:a,tbody:a,tfoot:a,colgroup:a,caption:a,tr:["<table><tbody>","</tbody></table>",2],th:f,td:f,col:["<table><colgroup>","</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:l,optgroup:l,script:c,style:c,link:c,param:c,base:c},p=/^(checked|selected)$/,d=/msie/i.test(navigator.userAgent),v,m,g,y={},b=0,w=/^-?[\d\.]+$/,E=/^data-(.+)$/,S="px",x="setAttribute",T="getAttribute",N="getElementsByTagName",C=function(){var e=n.createElement("p");return e.innerHTML='<a href="#x">x</a><table style="float:left;"></table>',{hrefExtended:e[N]("a")[0][T]("href")!="#x",autoTbody:e[N]("tbody").length!==0,computedStyle:n.defaultView&&n.defaultView.getComputedStyle,cssFloat:e[N]("table")[0].style.styleFloat?"styleFloat":"cssFloat",transform:function(){var t=["webkitTransform","MozTransform","OTransform","msTransform","Transform"],n;for(n=0;n<t.length;n++)if(t[n]in e.style)return t[n]}(),classList:"classList"in e}}(),k=/(^\s*|\s*$)/g,L=/\s+/,A=String.prototype.toString,O={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},M=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(k,"")},z=C.computedStyle?function(e,t){var r=null,i=n.defaultView.getComputedStyle(e,"");return i&&(r=i[t]),e.style[t]||r}:d&&r.currentStyle?function(e,t){if(t=="opacity"){var n=100;try{n=e.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(r){try{n=e.filters("alpha").opacity}catch(i){}}return n/100}var s=e.currentStyle?e.currentStyle[t]:null;return e.style[t]||s}:function(e,t){return e.style[t]};return C.classList?(v=function(e,t){return e.classList.contains(t)},m=function(e,t){e.classList.add(t)},g=function(e,t){e.classList.remove(t)}):(v=function(e,t){return _(t).test(e.className)},m=function(e,t){e.className=M(e.className+" "+t)},g=function(e,t){e.className=M(e.className.replace(_(t)," "))}),$.prototype={get:function(e){return this[e]||null},each:function(e,t){return D(this,e,t)},deepEach:function(e,t){return P(this,e,t)},map:function(e,t){var n=[],r,i;for(i=0;i<this.length;i++)r=e.call(this,this[i],i),t?t(r)&&n.push(r):n.push(r);return n},html:function(e,t){function i(t){D(J(e),function(e){t.appendChild(e)})}var n=t?r.textContent===undefined?"innerText":"textContent":"innerHTML";return typeof e!="undefined"?this.empty().each(function(r){!t&&u.test(r.tagName)?i(r):function(){try{r[n]=e}catch(t){i(r)}}()}):this[0]?this[0][n]:""},text:function(e){return this.html(e,1)},append:function(e){return this.each(function(t){D(J(e),function(e){t.appendChild(e)})})},prepend:function(e){return this.each(function(t){var n=t.firstChild;D(J(e),function(e){t.insertBefore(e,n)})})},appendTo:function(e,t){return W.call(this,e,t,function(e,t){e.appendChild(t)})},prependTo:function(e,t){return W.call(this,e,t,function(e,t){e.insertBefore(t,e.firstChild)})},before:function(e){return this.each(function(t){D(Y.create(e),function(e){t[i].insertBefore(e,t)})})},after:function(e){return this.each(function(t){D(Y.create(e),function(e){t[i].insertBefore(e,t.nextSibling)})})},insertBefore:function(e,t){return W.call(this,e,t,function(e,t){e[i].insertBefore(t,e)})},insertAfter:function(e,t){return W.call(this,e,t,function(e,t){var n=e.nextSibling;n?e[i].insertBefore(t,n):e[i].appendChild(t)})},replaceWith:function(e){return this.deepEach(F),this.each(function(t){t.parentNode.replaceChild(Y.create(e)[0],t)})},addClass:function(e){return e=A.call(e).split(L),this.each(function(t){D(e,function(e){e&&!v(t,V(t,e))&&m(t,V(t,e))})})},removeClass:function(e){return e=A.call(e).split(L),this.each(function(t){D(e,function(e){e&&v(t,V(t,e))&&g(t,V(t,e))})})},hasClass:function(e){return e=A.call(e).split(L),R(this,function(t){return R(e,function(e){return e&&v(t,e)})})},toggleClass:function(e,t){return e=A.call(e).split(L),this.each(function(n){D(e,function(e){e&&(typeof t!="undefined"?t?m(n,e):g(n,e):v(n,e)?g(n,e):m(n,e))})})},show:function(e){return this.each(function(t){t.style.display=e||""})},hide:function(){return this.each(function(e){e.style.display="none"})},toggle:function(e,t){return this.each(function(e){e.style.display=e.offsetWidth||e.offsetHeight?"none":t||""}),e&&e(),this},first:function(){return Y(this.length?this[0]:[])},last:function(){return Y(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(i)},related:function(e){return this.map(function(t){t=t[e];while(t&&t.nodeType!==1)t=t[e];return t||0},function(e){return e})},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.each(function(e){e.blur()})},css:function(e,r,i){function o(e,t,n){for(var r in s)s.hasOwnProperty(r)&&(n=s[r],(t=U(r))&&w.test(n)&&!(t in O)&&(n+=S),e.style[t]=V(e,n))}if(r===undefined&&typeof e=="string")return r=this[0],r?r===n||r===t?(i=r===n?Y.doc():Y.viewport(),e=="width"?i.width:e=="height"?i.height:""):(e=U(e))?z(r,e):null:null;var s=e;return typeof e=="string"&&(s={},s[e]=r),d&&s.opacity&&(s.filter="alpha(opacity="+s.opacity*100+")",s.zoom=e.zoom||1,delete s.opacity),this.each(o)},offset:function(e,t){if(typeof e=="number"||typeof t=="number")return this.each(function(n){X(n,e,t)});if(!this[0])return{top:0,left:0,height:0,width:0};var n=this[0],r=n.offsetWidth,i=n.offsetHeight,s=n.offsetTop,o=n.offsetLeft;while(n=n.offsetParent)s+=n.offsetTop,o+=n.offsetLeft,n!=document.body&&(s-=n.scrollTop,o-=n.scrollLeft);return{top:s,left:o,height:i,width:r}},dim:function(){if(!this.length)return{height:0,width:0};var e=this[0],t=!e.offsetWidth&&!e.offsetHeight?function(t,n){return n={position:e.style.position||"",visibility:e.style.visibility||"",display:e.style.display||""},t.first().css({position:"absolute",visibility:"hidden",display:"block"}),n}(this):null,n=e.offsetWidth,r=e.offsetHeight;return t&&this.first().css(t),{height:r,width:n}},attr:function(e,t){var n=this[0];if(typeof e=="string"||e instanceof String)return typeof t=="undefined"?n?o.test(e)?p.test(e)&&typeof n[e]=="string"?!0:n[e]:e!="href"&&e!="src"||!C.hrefExtended?n[T](e):n[T](e,2):null:this.each(function(n){o.test(e)?n[e]=V(n,t):n[x](e,V(n,t))});for(var r in e)e.hasOwnProperty(r)&&this.attr(r,e[r]);return this},removeAttr:function(e){return this.each(function(t){p.test(e)?t[e]=!1:t.removeAttribute(e)})},val:function(e){return typeof e=="string"?this.attr("value",e):this.length?this[0].value:null},data:function(e,t){var n=this[0],r,i,s;return typeof t=="undefined"?n?(i=j(n),typeof e=="undefined"?(D(n.attributes,function(e){(s=(""+e.name).match(E))&&(i[H(s[1])]=I(e.value))}),i):(typeof i[e]=="undefined"&&(i[e]=I(this.attr("data-"+B(e)))),i[e])):null:this.each(function(n){j(n)[e]=t})},remove:function(){return this.deepEach(F),this.each(function(e){e[i]&&e[i].removeChild(e)})},empty:function(){return this.each(function(e){P(e.childNodes,F);while(e.firstChild)e.removeChild(e.firstChild)})},detach:function(){return this.map(function(e){return e[i].removeChild(e)})},scrollTop:function(e){return K.call(this,null,e,"y")},scrollLeft:function(e){return K.call(this,e,null,"x")}},Y.setQueryEngine=function(e){s=e,delete Y.setQueryEngine},Y.aug=function(e,t){for(var n in e)e.hasOwnProperty(n)&&((t||$.prototype)[n]=e[n])},Y.create=function(e){return typeof e=="string"&&e!==""?function(){var t=/^\s*<([^\s>]+)/.exec(e),r=n.createElement("div"),s=[],o=t?h[t[1].toLowerCase()]:null,u=o?o[2]+1:1,a=o&&o[3],f=i,l=C.autoTbody&&o&&o[0]=="<table>"&&!/<tbody/i.test(e);r.innerHTML=o?o[0]+e+o[1]:e;while(u--)r=r.firstChild;a&&r&&r.nodeType!==1&&(r=r.nextSibling);do(!t||r.nodeType==1)&&(!l||r.tagName.toLowerCase()!="tbody")&&s.push(r);while(r=r.nextSibling);return D(s,function(e){e[f]&&e[f].removeChild(e)}),s}():q(e)?[e.cloneNode(!0)]:[]},Y.doc=function(){var e=Y.viewport();return{width:Math.max(n.body.scrollWidth,r.scrollWidth,e.width),height:Math.max(n.body.scrollHeight,r.scrollHeight,e.height)}},Y.firstChild=function(e){for(var t=e.childNodes,n=0,r=t&&t.length||0,i;n<r;n++)t[n].nodeType===1&&(i=t[r=n]);return i},Y.viewport=function(){return{width:d?r.clientWidth:self.innerWidth,height:d?r.clientHeight:self.innerHeight}},Y.isAncestor="compareDocumentPosition"in r?function(e,t){return(e.compareDocumentPosition(t)&16)==16}:"contains"in r?function(e,t){return e!==t&&e.contains(t)}:function(e,t){while(t=t[i])if(t===e)return!0;return!1},Y},this),provide("bonzo",t.exports),r.ender(t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");(function(e){function n(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function r(e){var t=[],n=0,r=0,i,s,o;for(;s=e[n];++n){o=!1;for(i=0;i<t.length;++i)if(t[i]===s){o=!0;break}o||(t[r++]=s)}return t}function i(e,n){return typeof n=="undefined"?t(this).dim()[e]:this.css(e,n)}var t=require("bonzo");t.setQueryEngine(e),e.ender(t),e.ender(t(),!0),e.ender({create:function(n){return e(t.create(n))}}),e.id=function(t){return e([document.getElementById(t)])},e.ender({parents:function(t,i){if(!this.length)return this;var s=e(t),o,u,a,f=[];for(o=0,u=this.length;o<u;o++){a=this[o];while(a=a.parentNode)if(~n(s,a)){f.push(a);if(i)break}}return e(r(f))},parent:function(){return e(r(t(this).parent()))},closest:function(e){return this.parents(e,!0)},first:function(){return e(this.length?this[0]:this)},last:function(){return e(this.length?this[this.length-1]:[])},next:function(){return e(t(this).next())},previous:function(){return e(t(this).previous())},appendTo:function(e){return t(this.selector).appendTo(e,this)},prependTo:function(e){return t(this.selector).prependTo(e,this)},insertAfter:function(e){return t(this.selector).insertAfter(e,this)},insertBefore:function(e){return t(this.selector).insertBefore(e,this)},siblings:function(){var t,n,r,i=[];for(t=0,n=this.length;t<n;t++){r=this[t];while(r=r.previousSibling)r.nodeType==1&&i.push(r);r=this[t];while(r=r.nextSibling)r.nodeType==1&&i.push(r)}return e(i)},children:function(){var n,i,s,o=[];for(n=0,i=this.length;n<i;n++){if(!(s=t.firstChild(this[n])))continue;o.push(s);while(s=s.nextSibling)s.nodeType==1&&o.push(s)}return e(r(o))},height:function(e){return i.call(this,"height",e)},width:function(e){return i.call(this,"width",e)}},!0)})(ender),provide("bonzo/ender-bridge",t.exports),r.ender(t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");!function(e,n,r){typeof t!="undefined"?t.exports=r(e,n):typeof define=="function"&&typeof define.amd=="object"?define(r):n[e]=r(e,n)}("bean",this,function(e,t){var n=window,r=t[e],i=/over|out/,s=/[^\.]*(?=\..*)\.|.*/,o=/\..*/,u="addEventListener",a="attachEvent",f="removeEventListener",l="detachEvent",c="ownerDocument",h="target",p="querySelectorAll",d=document||{},v=d.documentElement||{},m=v[u],g=m?u:a,y=Array.prototype.slice,b=/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,w=/mouse.*(wheel|scroll)/i,E=/^text/i,S=/^touch|^gesture/i,x={},T=function(e,t,n){for(n=0;n<t.length;n++)e[t[n]]=1;return e}({},("click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll "+(m?"show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ":"")).split(" ")),N=function(){function n(e){var n=e.relatedTarget;return n?n!==this&&n.prefix!=="xul"&&!/document/.test(this.toString())&&!t(n,this):n===null}var e="compareDocumentPosition",t=e in v?function(t,n){return n[e]&&(n[e](t)&16)===16}:"contains"in v?function(e,t){return t=t.nodeType===9||t===window?v:t,t!==e&&t.contains(e)}:function(e,t){while(e=e.parentNode)if(e===t)return 1;return 0};return{mouseenter:{base:"mouseover",condition:n},mouseleave:{base:"mouseout",condition:n},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),C=function(){var e="altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which".split(" "),t=e.concat("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" ")),n=t.concat("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis".split(" ")),r=e.concat("char charCode key keyCode keyIdentifier keyLocation".split(" ")),s=e.concat(["data"]),o=e.concat("touches targetTouches changedTouches scale rotation".split(" ")),u=e.concat(["data","origin","source"]),a="preventDefault",f=function(e){return function(){e[a]?e[a]():e.returnValue=!1}},l="stopPropagation",c=function(e){return function(){e[l]?e[l]():e.cancelBubble=!0}},p=function(e){return function(){e[a](),e[l](),e.stopped=!0}},m=function(e,t,n){var r,i;for(r=n.length;r--;)i=n[r],!(i in t)&&i in e&&(t[i]=e[i])};return function(g,y){var x={originalEvent:g,isNative:y};if(!g)return x;var T,N=g.type,C=g[h]||g.srcElement;x[a]=f(g),x[l]=c(g),x.stop=p(x),x[h]=C&&C.nodeType===3?C.parentNode:C;if(y){if(N.indexOf("key")!==-1)T=r,x.keyCode=g.keyCode||g.which;else if(b.test(N)){T=t,x.rightClick=g.which===3||g.button===2,x.pos={x:0,y:0};if(g.pageX||g.pageY)x.clientX=g.pageX,x.clientY=g.pageY;else if(g.clientX||g.clientY)x.clientX=g.clientX+d.body.scrollLeft+v.scrollLeft,x.clientY=g.clientY+d.body.scrollTop+v.scrollTop;i.test(N)&&(x.relatedTarget=g.relatedTarget||g[(N==="mouseover"?"from":"to")+"Element"])}else S.test(N)?T=o:w.test(N)?T=n:E.test(N)?T=s:N==="message"&&(T=u);m(g,x,T||e)}return x}}(),k=function(e,t){return!m&&!t&&(e===d||e===n)?v:e},L=function(){function e(e,t,n,r,i){var s=this.isNative=T[t]&&e[g];this.element=e,this.type=t,this.handler=n,this.original=r,this.namespaces=i,this.custom=N[t],this.eventType=m||s?t:"propertychange",this.customType=!m&&!s&&t,this[h]=k(e,s),this[g]=this[h][g]}return e.prototype={inNamespaces:function(e){var t,n;if(!e)return!0;if(!this.namespaces)return!1;for(t=e.length;t--;)for(n=this.namespaces.length;n--;)if(e[t]===this.namespaces[n])return!0;return!1},matches:function(e,t,n){return this.element===e&&(!t||this.original===t)&&(!n||this.handler===n)}},e}(),A=
function(){var e={},t=function(n,r,i,s,o){if(!r||r==="*")for(var u in e)u.charAt(0)==="$"&&t(n,u.substr(1),i,s,o);else{var a=0,f,l=e["$"+r],c=n==="*";if(!l)return;for(f=l.length;a<f;a++)if(c||l[a].matches(n,i,s))if(!o(l[a],l,a,r))return}},n=function(t,n,r){var i,s=e["$"+n];if(s)for(i=s.length;i--;)if(s[i].matches(t,r,null))return!0;return!1},r=function(e,n,r){var i=[];return t(e,n,r,null,function(e){return i.push(e)}),i},i=function(t){return(e["$"+t.type]||(e["$"+t.type]=[])).push(t),t},s=function(n){t(n.element,n.type,null,n.handler,function(t,n,r){return n.splice(r,1),n.length===0&&delete e["$"+t.type],!1})},o=function(){var t,n=[];for(t in e)t.charAt(0)==="$"&&(n=n.concat(e[t]));return n};return{has:n,get:r,put:i,del:s,entries:o}}(),O=d[p]?function(e,t){return t[p](e)}:function(){throw new Error("Bean: No selector engine installed")},M=function(e){O=e},_=m?function(e,t,n,r){e[r?u:f](t,n,!1)}:function(e,t,n,r,i){i&&r&&e["_on"+i]===null&&(e["_on"+i]=0),e[r?a:l]("on"+t,n)},D=function(e,t,r){var i=t.__beanDel,s=function(s){return s=C(s||((this[c]||this.document||this).parentWindow||n).event,!0),i&&(s.currentTarget=i.ft(s[h],e)),t.apply(e,[s].concat(r))};return s.__beanDel=i,s},P=function(e,t,r,i,s,o){var u=t.__beanDel,a=function(a){var f=u?u.ft(a[h],e):this;if(i?i.apply(f,arguments):m?!0:a&&a.propertyName==="_on"+r||!a)a&&(a=C(a||((this[c]||this.document||this).parentWindow||n).event,o),a.currentTarget=f),t.apply(e,a&&(!s||s.length===0)?arguments:y.call(arguments,a?0:1).concat(s))};return a.__beanDel=u,a},H=function(e,t,n,r,i){return function(){e(t,n,i),r.apply(this,arguments)}},B=function(e,t,n,r){var i,s,u,a=t&&t.replace(o,""),f=A.get(e,a,n);for(i=0,s=f.length;i<s;i++)f[i].inNamespaces(r)&&((u=f[i])[g]&&_(u[h],u.eventType,u.handler,!1,u.type),A.del(u))},j=function(e,t,n,r,i){var u,a=t.replace(o,""),f=t.replace(s,"").split(".");if(A.has(e,a,n))return e;a==="unload"&&(n=H(B,e,a,n,r)),N[a]&&(N[a].condition&&(n=P(e,n,a,N[a].condition,i,!0)),a=N[a].base||a),u=A.put(new L(e,a,n,r,f[0]&&f)),u.handler=u.isNative?D(e,u.handler,i):P(e,u.handler,a,!1,i,!1),u[g]&&_(u[h],u.eventType,u.handler,!0,u.customType)},F=function(e,t,n){var r=function(t,r){var i,s=typeof e=="string"?n(e,r):e;for(;t&&t!==r;t=t.parentNode)for(i=s.length;i--;)if(s[i]===t)return t},i=function(e){var n=r(e[h],this);n&&t.apply(n,arguments)};return i.__beanDel={ft:r,selector:e,$:n},i},I=function(e,t,n){var r,i,u,a,f=B,l=t&&typeof t=="string";if(l&&t.indexOf(" ")>0){t=t.split(" ");for(a=t.length;a--;)I(e,t[a],n);return e}i=l&&t.replace(o,""),i&&N[i]&&(i=N[i].type);if(!t||l){if(u=l&&t.replace(s,""))u=u.split(".");f(e,i,n,u)}else if(typeof t=="function")f(e,null,t);else for(r in t)t.hasOwnProperty(r)&&I(e,r,t[r]);return e},q=function(e,t,n,r,i){var s,o,u,a,f=n,l=n&&typeof n=="string";if(t&&!n&&typeof t=="object")for(s in t)t.hasOwnProperty(s)&&q.apply(this,[e,s,t[s]]);else{a=arguments.length>3?y.call(arguments,3):[],o=(l?n:t).split(" "),l&&(n=F(t,f=r,i||O))&&(a=y.call(a,1)),this===x&&(n=H(I,e,t,n,f));for(u=o.length;u--;)j(e,o[u],n,f,a)}return e},R=function(){return q.apply(x,arguments)},U=m?function(e,t,r){var i=d.createEvent(e?"HTMLEvents":"UIEvents");i[e?"initEvent":"initUIEvent"](t,!0,!0,n,1),r.dispatchEvent(i)}:function(e,t,n){n=k(n,e),e?n.fireEvent("on"+t,d.createEventObject()):n["_on"+t]++},z=function(e,t,n){var r,i,u,a,f,l=t.split(" ");for(r=l.length;r--;){t=l[r].replace(o,"");if(a=l[r].replace(s,""))a=a.split(".");if(!a&&!n&&e[g])U(T[t],t,e);else{f=A.get(e,t),n=[!1].concat(n);for(i=0,u=f.length;i<u;i++)f[i].inNamespaces(a)&&f[i].handler.apply(e,n)}}return e},W=function(e,t,n){var r=0,i=A.get(t,n),s=i.length,o,u;for(;r<s;r++)i[r].original&&(u=i[r].handler.__beanDel,u?o=[e,u.selector,i[r].type,i[r].original,u.$]:o=[e,i[r].type,i[r].original],q.apply(null,o));return e},X={add:q,one:R,remove:I,clone:W,fire:z,setSelectorEngine:M,noConflict:function(){return t[e]=r,this}};if(n[a]){var V=function(){var e,t=A.entries();for(e in t)t[e].type&&t[e].type!=="unload"&&I(t[e].element,t[e].type);n[l]("onunload",V),n.CollectGarbage&&n.CollectGarbage()};n[a]("onunload",V)}return X}),provide("bean",t.exports),r.ender(t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");!function(e){var t=require("bean"),n=function(e,n,r){var i=n?[n]:[];return function(){for(var r=0,s=this.length;r<s;r++)!arguments.length&&e=="add"&&n&&(e="fire"),t[e].apply(this,[this[r]].concat(i,Array.prototype.slice.call(arguments,0)));return this}},r=n("add"),i=n("remove"),s=n("fire"),o={on:r,addListener:r,bind:r,listen:r,delegate:r,one:n("one"),off:i,unbind:i,unlisten:i,removeListener:i,undelegate:i,emit:s,trigger:s,cloneEvents:n("clone"),hover:function(e,n,r){for(r=this.length;r--;)t.add.call(this,this[r],"mouseenter",e),t.add.call(this,this[r],"mouseleave",n);return this}},u="blur change click dblclick error focus focusin focusout keydown keypress keyup load mousedown mouseenter mouseleave mouseout mouseover mouseup mousemove resize scroll select submit unload".split(" ");for(var a=u.length;a--;)o[u[a]]=n("add",u[a]);t.setSelectorEngine(e),e.ender(o,!0)}(ender),provide("bean/ender-bridge",t.exports),r.ender(t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");"undefined"==typeof process&&(process={}),function(){"use strict";process.EventEmitter=process.EventEmitter||function(){};var e=n.EventEmitter=process.EventEmitter,t=Array.isArray,r=10;e.prototype.setMaxListeners=function(e){this._events||(this._events={}),this._events.maxListeners=e},e.prototype.emit=function(e){if(e==="error")if(!this._events||!this._events.error||t(this._events.error)&&!this._events.error.length)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var n=this._events[e];if(!n)return!1;if(typeof n=="function"){switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:var r=Array.prototype.slice.call(arguments,1);n.apply(this,r)}return!0}if(t(n)){var r=Array.prototype.slice.call(arguments,1),i=n.slice();for(var s=0,o=i.length;s<o;s++)i[s].apply(this,r);return!0}return!1},e.prototype.addListener=function(e,n){if("function"!=typeof n)throw new Error("addListener only takes instances of Function");this._events||(this._events={}),this.emit("newListener",e,n);if(!this._events[e])this._events[e]=n;else if(t(this._events[e])){this._events[e].push(n);if(!this._events[e].warned){var i;this._events.maxListeners!==undefined?i=this._events.maxListeners:i=r,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}}else this._events[e]=[this._events[e],n];return this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(e,t){function r(){n.removeListener(e,r),t.apply(this,arguments)}var n=this;return r.listener=t,n.on(e,r),this},e.prototype.removeListener=function(e,n){if("function"!=typeof n)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var r=this._events[e];if(t(r)){var i=-1;for(var s=0,o=r.length;s<o;s++)if(r[s]===n||r[s].listener&&r[s].listener===n){i=s;break}if(i<0)return this;r.splice(i,1),r.length==0&&delete this._events[e]}else(r===n||r.listener&&r.listener===n)&&delete this._events[e];return this},e.prototype.removeAllListeners=function(e){return e&&this._events&&this._events[e]&&(this._events[e]=null),this},e.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),t(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}}(),provide("events.node",t.exports),provide("events",t.exports),r.ender(t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");(function(){"use strict";function g(n,r,i){if(n&&typeof n=="object"&&n.href)return n;if(typeof n!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var s={},d=n;d=d.trim();var g=t.exec(d);if(g){g=g[0];var b=g.toLowerCase();s.protocol=b,d=d.substr(g.length)}if(i||g||d.match(/^\/\/[^@\/]+@[^@\/]+/)){var w=d.substr(0,2)==="//";w&&(!g||!p[g])&&(d=d.substr(2),s.slashes=!0)}if(!p[g]&&(w||g&&!v[g])){var S=d.indexOf("@");if(S!==-1){var x=d.slice(0,S),T=!0;for(var N=0,C=a.length;N<C;N++)if(x.indexOf(a[N])!==-1){T=!1;break}T&&(s.auth=decodeURIComponent(x),d=d.substr(S+1))}var k=-1;for(var N=0,C=u.length;N<C;N++){var L=d.indexOf(u[N]);L!==-1&&(k<0||L<k)&&(k=L)}k!==-1?(s.host=d.substr(0,k),d=d.substr(k)):(s.host=d,d="");var A=E(s.host),O=Object.keys(A);for(var N=0,C=O.length;N<C;N++){var M=O[N];s[M]=A[M]}s.hostname=s.hostname||"";var _=s.hostname[0]==="["&&s.hostname[s.hostname.length-1]==="]";if(s.hostname.length>f)s.hostname="";else if(!_){var D=s.hostname.split(/\./);for(var N=0,C=D.length;N<C;N++){var P=D[N];if(!P)continue;if(!P.match(l)){var H="";for(var B=0,j=P.length;B<j;B++)P.charCodeAt(B)>127?H+="x":H+=P[B];if(!H.match(l)){var F=D.slice(0,N),I=D.slice(N+1),q=P.match(c);q&&(F.push(q[1]),I.unshift(q[2])),I.length&&(d="/"+I.join(".")+d),s.hostname=F.join(".");break}}}}s.hostname=s.hostname.toLowerCase();if(!_){var R=s.hostname.split("."),U=[];for(var N=0;N<R.length;++N){var z=R[N];U.push(z.match(/[^A-Za-z0-9_-]/)?"xn--"+e.encode(z):z)}s.hostname=U.join(".")}s.host=(s.hostname||"")+(s.port?":"+s.port:""),s.href+=s.host,_&&(s.hostname=s.hostname.substr(1,s.hostname.length-2),d[0]!=="/"&&(d="/"+d))}if(!h[b])for(var N=0,C=o.length;N<C;N++){var W=o[N],X=encodeURIComponent(W);X===W&&(X=escape(W)),d=d.split(W).join(X)}var V=d.indexOf("#");V!==-1&&(s.hash=d.substr(V),d=d.slice(0,V));var $=d.indexOf("?");$!==-1?(s.search=d.substr($),s.query=d.substr($+1),r&&(s.query=m.parse(s.query)),d=d.slice(0,$)):r&&(s.search="",s.query={}),d&&(s.pathname=d),v[g]&&s.hostname&&!s.pathname&&(s.pathname="/");if(s.pathname||s.search)s.path=(s.pathname?s.pathname:"")+(s.search?s.search:"");return s.href=y(s),s}function y(e){typeof e=="string"&&(e=g(e));var t=e.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var n=e.protocol||"",r=e.pathname||"",i=e.hash||"",s=!1,o="";e.host!==undefined?s=t+e.host:e.hostname!==undefined&&(s=t+(e.hostname.indexOf(":")===-1?e.hostname:"["+e.hostname+"]"),e.port&&(s+=":"+e.port)),e.query&&typeof e.query=="object"&&Object.keys(e.query).length&&(o=m.stringify(e.query));var u=e.search||o&&"?"+o||"";return n&&n.substr(-1)!==":"&&(n+=":"),e.slashes||(!n||v[n])&&s!==!1?(s="//"+(s||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):s||(s=""),i&&i.charAt(0)!=="#"&&(i="#"+i),u&&u.charAt(0)!=="?"&&(u="?"+u),n+s+r+u+i}function b(e,t){return y(w(e,t))}function w(e,t){if(!e)return t;e=g(y(e),!1,!0),t=g(y(t),!1,!0),e.hash=t.hash;if(t.href==="")return e.href=y(e),e;if(t.slashes&&!t.protocol)return t.protocol=e.protocol,v[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=y(t),t;if(t.protocol&&t.protocol!==e.protocol){if(!v[t.protocol])return t.href=y(t),t;e.protocol=t.protocol;if(!t.host&&!p[t.protocol]){var n=(t.pathname||"").split("/");while(n.length&&!(t.host=n.shift()));t.host||(t.host=""),t.hostname||(t.hostname=""),n[0]!==""&&n.unshift(""),n.length<2&&n.unshift(""),t.pathname=n.join("/")}e.pathname=t.pathname,e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port;if(e.pathname!==undefined||e.search!==undefined)e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"");return e.slashes=e.slashes||t.slashes,e.href=y(e),e}var r=e.pathname&&e.pathname.charAt(0)==="/",i=t.host!==undefined||t.pathname&&t.pathname.charAt(0)==="/",s=i||r||e.host&&t.pathname,o=s,u=e.pathname&&e.pathname.split("/")||[],n=t.pathname&&t.pathname.split("/")||[],a=e.protocol&&!v[e.protocol];a&&(delete e.hostname,delete e.port,e.host&&(u[0]===""?u[0]=e.host:u.unshift(e.host)),delete e.host,t.protocol&&(delete t.hostname,delete t.port,t.host&&(n[0]===""?n[0]=t.host:n.unshift(t.host)),delete t.host),s=s&&(n[0]===""||u[0]===""));if(i)e.host=t.host||t.host===""?t.host:e.host,e.hostname=t.hostname||t.hostname===""?t.hostname:e.hostname,e.search=t.search,e.query=t.query,u=n;else if(n.length)u||(u=[]),u.pop(),u=u.concat(n),e.search=t.search,e.query=t.query;else if("search"in t){if(a){e.hostname=e.host=u.shift();var f=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;f&&(e.auth=f.shift(),e.host=e.hostname=f.shift())}e.search=t.search,e.query=t.query;if(e.pathname!==undefined||e.search!==undefined)e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"");return e.href=y(e),e}if(!u.length)return delete e.pathname,e.search?delete e.path:e.path="/"+e.search,e.href=y(e),e;var l=u.slice(-1)[0],c=(e.host||t.host)&&(l==="."||l==="..")||l==="",h=0;for(var d=u.length;d>=0;d--)l=u[d],l=="."?u.splice(d,1):l===".."?(u.splice(d,1),h++):h&&(u.splice(d,1),h--);if(!s&&!o)for(;h--;h)u.unshift("..");s&&u[0]!==""&&(!u[0]||u[0].charAt(0)!=="/")&&u.unshift(""),c&&u.join("/").substr(-1)!=="/"&&u.push("");var m=u[0]===""||u[0]&&u[0].charAt(0)==="/";if(a){e.hostname=e.host=m?"":u.length?u.shift():"";var f=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;f&&(e.auth=f.shift(),e.host=e.hostname=f.shift())}s=s||e.host&&u.length,s&&!m&&u.unshift(""),e.pathname=u.join("/");if(e.pathname!==undefined||e.search!==undefined)e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"");return e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=y(e),e}function E(e){var t={},n=r.exec(e);return n&&(n=n[0],n!==":"&&(t.port=n.substr(1)),e=e.substr(0,e.length-n.length)),e&&(t.hostname=e),t}var e=require("punycode");n.parse=g,n.resolve=b,n.resolveObject=w,n.format=y;var t=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,i=["<",">",'"',"`"," ","\r","\n","	"],s=["{","}","|","\\","^","~","`"].concat(i),o=["'"].concat(i),u=["%","/","?",";","#"].concat(s).concat(o),a=["/","@","?","#"].concat(i),f=255,l=/^[a-zA-Z0-9][a-z0-9A-Z_-]{0,62}$/,c=/^([a-zA-Z0-9][a-z0-9A-Z_-]{0,62})(.*)$/,h={javascript:!0,"javascript:":!0},p={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=require("querystring")})(),provide("url",t.exports),r.ender(t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");(function(){"use strict";function n(e){return e instanceof r}function r(t){function l(){var e;if(!u||a!==r.length)return;a=0,f.deliver.apply(f,r),r=Array(r.length),i=Array(i.length)}function c(){var e=o?"when":"whenever";u=!0,r=Array(s.length),i=Array(s.length),s.forEach(function(t,n){t[e](function(){var e=Array.prototype.slice.call(arguments);r[n]=e,i[n]||(i[n]=!0,a+=1),l()})})}var n=this,r=[],i=[],s=[],o=!1,u=!1,a=0,f=e(t);t=t||null,n.deliverer=function(){var t=e();return n.add(t),t.deliver},n.newCallback=n.deliverer,n.when=function(){u||c(),f.when.apply(f,arguments)},n.whenever=function(){u||c(),f.whenever.apply(f,arguments)},n.add=function(){if(u)throw new Error("`Join().add(Array<future> | subs1, [subs2, ...])` requires that all additions be completed before the first `when()` or `whenever()`");var e=Array.prototype.slice.call(arguments);if(0===e.length)return n.newCallback();e=Array.isArray(e[0])?e[0]:e,e.forEach(function(e){e.whenever||(o=!0);if(!e.when)throw new Error("`Join().add(future)` requires either a promise or future");s.push(e)})}}function i(e){return new r(e)}var e=require("future");i.isJoin=n,t.exports=i})(),provide("join",t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender"),i,s=i=function(){var e=arguments[0],t=!1;return typeof e=="string"?t=arguments[1]||!1:e&&!e[0]&&!e.length&&(e=[e]),i.core(e,t)};i.core=function(t,n,r){function p(e){if(typeof console!="undefined"){console.log(e);debugger}throw"pure error: "+e}function d(){var e=i.plugins,t=function(){};return t.prototype=e,t.prototype.compile=e.compile||k,t.prototype.render=e.render||L,t.prototype.autoRender=e.autoRender||A,t.prototype.find=e.find||g,t.prototype._compiler=C,t.prototype._error=p,new t}function v(e){return e.outerHTML||function(e){var t=document.createElement("div"),n;return t.appendChild(e.cloneNode(!0)),n=t.innerHTML,t=null,n}(e)}function m(e,t){return function(n){return e(""+t.call(n.context,n))}}function g(e,t){return typeof e=="string"&&(t=e,e=!1),typeof document.querySelectorAll!="undefined"?(e||document).querySelectorAll(t):p("You can test PURE standalone with: iPhone, FF3.5+, Safari4+ and IE8+\n\nTo run PURE on your browser, you need a JS library/framework with a CSS selector engine")}function y(e,t){return function(n){var r=[e[0]],i=e.length,s,o,u,a;for(var f=1;f<i;f++)s=t[f].call(this,n),o=e[f],s===""&&(u=r[r.length-1],(a=u.search(/[^\s]+=\"?$/))>-1&&(r[r.length-1]=u.substring(0,a),o=o.substr(1))),r[r.length]=s,r[r.length]=o;return r.join("")}}function b(e){var t=e.match(/^(\w+)\s*<-\s*(\S+)?$/);t===null&&p('bad loop spec: "'+e+'"'),t[1]==="item"&&p('"item<-..." is a reserved word for the current running iteration.\n\nPlease choose another name for your loop.');if(!t[2]||t[2]&&/context/i.test(t[2]))t[2]=function(e){return e.context};return{name:t[1],sel:t[2]}}function w(e){if(typeof e=="function")return e;var t=e.match(/^[a-zA-Z\$_\@][\w\$:-]*(\.[\w\$:-]*[^\.])*$/);if(t===null){var n=!1,r=e,i=[],s=[],o=0,u;if(/\'|\"/.test(r.charAt(0))){if(/\'|\"/.test(r.charAt(r.length-1)))return u=r.substring(1,r.length-1),function(){return u}}else while((t=r.match(/#\{([^{}]+)\}/))!==null)n=!0,i[o++]=r.slice(0,t.index),s[o]=w(t[1]),r=r.slice(t.index+t[0].length,r.length);return n?(i[o]=r,y(i,s)):function(){return e}}return t=e.split("."),function(e){var n=e.context||e,r=e[t[0]],i=0;if(r&&r.item){i+=1;if(t[i]==="pos")return r.pos;n=r.item}var s=t.length;for(;i<s;i++){if(!n)break;n=n[t[i]]}return!n&&n!==0?"":n}}function E(e,t,n){var i,s,o,u,a,c=[];if(typeof t=="string"){i=t;var h=t.match(l);h||p("bad selector syntax: "+t),s=h[1],o=h[2],u=h[3],a=h[4],o==="."||!o&&u?c[0]=e:c=r.find(e,o);if(!c||c.length===0)return p('The node "'+t+'" was not found in the template:\n'+v(e).replace(/\t/g,"  "))}else s=t.prepend,u=t.attr,a=t.append,c=[e];if(s||a)s&&a?p("append/prepend cannot take place at the same time"):n?p("no append/prepend/replace modifiers allowed for loop target"):a&&n&&p("cannot append with loop (sel: "+i+")");var d,m,g,y,b,w,E;return u?(y=/^style$/i.test(u),b=/^class$/i.test(u),w=b?"className":u,d=function(e,t){e.setAttribute(f+u,t),w in e&&!y&&(e[w]=""),e.nodeType===1&&(e.removeAttribute(u),b&&e.removeAttribute(w))},y||b?y?m=function(e){return e.style.cssText}:m=function(e){return e.className}:m=function(e){return e.getAttribute(u)},g=function(e){return e.replace(/\"/g,"&quot;")},s?E=function(e,t){d(e,t+m(e))}:a?E=function(e,t){d(e,m(e)+t)}:E=function(e,t){d(e,t)}):(n?E=function(e,t){var n=e.parentNode;n&&(n.insertBefore(document.createTextNode(t),e.nextSibling),n.removeChild(e))}:s?E=function(e,t){e.insertBefore(document.createTextNode(t),e.firstChild)}:a?E=function(e,t){e.appendChild(document.createTextNode(t))}:E=function(e,t){while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))},g=function(e){return e}),{attr:u,nodes:c,set:E,sel:i,quotefn:g}}function S(e,t){var n=a+t+":";for(var r=0;r<e.nodes.length;r++)e.set(e.nodes[r],n)}function x(e,t,n,r,i){return function(s){var o=t(s),u=s[e],a={items:o},f=0,l,c=[],d=function(e,t,r,i){var u=s.pos,a=s.item,l=s.items;s.pos=t.pos=e,s.item=t.item=o[e],s.items=o,typeof i!="undefined"&&(s.length=i);if(typeof r=="function"&&r.call(s.item,s)===!1){f++;return}c.push(n.call(s.item,s)),s.pos=u,s.item=a,s.items=l};s[e]=a;if(h(o)){l=o.length||0,typeof r=="function"&&o.sort(r);for(var v=0,m=l;v<m;v++)d(v,a,i,l-f)}else{o&&typeof r!="undefined"&&p("sort is only available on arrays, not objects");for(var g in o)o.hasOwnProperty(g)&&d(g,a,i)}return typeof u!="undefined"?s[e]=u:delete s[e],c.join("")}}function T(e,t,n,r){var i=!1,s,u,a,f;for(f in n)if(n.hasOwnProperty(f)){if(f==="sort"){u=n.sort;continue}if(f==="filter"){a=n.filter;continue}i&&p("cannot have more than one loop on a target"),s=f,i=!0}s||p("Error in the selector: "+t+"\nA directive action must be a string, a function or a loop(<-)");var l=n[s];if(typeof l=="string"||typeof l=="function")return n={},n[s]={root:l},T(e,t,n,r);var c=b(s),h=w(c.sel),d=E(e,t,!0),v=d.nodes;for(o=0;o<v.length;o++){var g=v[o],y=C(g,l);r[r.length]=m(d.quotefn,x(c.name,h,y,u,a)),d.nodes=[g],S(d,r.length-1)}return d}function N(e,t){function g(e,n){var r=e.match(l),s=r[3]||c[n],o={prepend:!!r[1],prop:r[2],attr:s,append:!!r[4],sel:e},u,a,f,p,d;for(u=i.a.length-1;u>=0;u--){f=i.a[u],p=f.l[0],d=p&&p[o.prop];if(typeof d!="undefined"){o.prop=f.p+"."+o.prop,i.l[o.prop]===!0&&(d=d[0]);break}}if(typeof d=="undefined"){d=w(o.prop)(h(t)?t[0]:t);if(d==="")return!1}return h(d)?(i.a.push({l:d,p:o.prop}),i.l[o.prop]=!0,o.t="loop"):o.t="str",o}var n=e.getElementsByTagName("*"),r=[],i={a:[],l:{}},s,o,u,a,f,p,d,v,m;for(u=-1,a=n.length;u<a;u++){d=u>-1?n[u]:e;if(d.nodeType===1&&d.className!==""){v=d.className.split(" ");for(f=0,p=v.length;f<p;f++){m=v[f],s=g(m,d.tagName);if(s!==!1){o=/nodevalue/i.test(s.attr);if(s.sel.indexOf("@")>-1||o)d.className=d.className.replace("@"+s.attr,""),o&&(s.attr=!1);r.push({n:d,cspec:s})}}}}return r}function C(e,t,n,r){var i=[],s,o,u,l,c,h,p,d,g,b,k,L,A,O,M,_,D=[],P;r=r||n&&N(e,n);if(n)while(r.length>0){u=r[0].cspec,l=r[0].n,r.splice(0,1);if(u.t==="str")c=E(l,u,!1),S(c,i.length),i[i.length]=m(c.quotefn,w(u.prop));else{p=w(u.sel),c=E(l,u,!0),h=c.nodes;for(s=0,o=h.length;s<o;s++)d=h[s],g=C(d,!1,n,r),i[i.length]=m(c.quotefn,x(u.sel,p,g)),c.nodes=[d],S(c,i.length-1)}}for(L in t)if(t.hasOwnProperty(L)){O=0,b=t[L],k=L.split(/\s*,\s*/),A=k.length;do typeof b=="function"||typeof b=="string"?(L=k[O],c=E(e,L,!1),S(c,i.length),i[i.length]=m(c.quotefn,w(b))):T(e,L,b,i);while(++O<A)}M=v(e),M=M.replace(/<([^>]+)\s(value\=""|selected)\s?([^>]*)>/ig,"<$1 $3>"),M=M.split(f).join(""),_=M.split(a);for(O=1;O<_.length;O++)P=_[O],D[O]=i[parseInt(P,10)],_[O]=P.substring(P.indexOf(":")+1);return y(_,D)}function k(e,t,n){var r=C((n||this[0]).cloneNode(!0),e,t);return function(e){return r({context:e})}}function L(t,n){var i=typeof n=="function"&&n,s=0,o=this.length;for(;s<o;s++)this[s]=O(this[s],(i||r.compile(n,!1,this[s]))(t,!1));return e=null,this}function A(t,n){var i=r.compile(n,t,this[0]);for(var s=0,o=this.length;s<o;s++)this[s]=O(this[s],i(t,!1));return e=null,this}function O(e,t){var n,r=e.parentNode,i=0;r||(r=document.createElement("DIV"),r.appendChild(e));switch(e.tagName){case"TBODY":case"THEAD":case"TFOOT":t="<TABLE>"+t+"</TABLE>",i=1;break;case"TR":t="<TABLE><TBODY>"+t+"</TBODY></TABLE>",i=2;break;case"TD":case"TH":t="<TABLE><TBODY><TR>"+t+"</TR></TBODY></TABLE>",i=3}tmp=document.createElement("SPAN"),tmp.style.display="none",document.body.appendChild(tmp),tmp.innerHTML=t,n=tmp.firstChild;while(i--)n=n.firstChild;return r.insertBefore(n,e),r.removeChild(e),document.body.removeChild(tmp),e=n,n=r=null,e}var s=[];r=r||d();switch(typeof t){case"string":s=r.find(n||document,t),s.length===0&&p('The template "'+t+'" was not found');break;case"undefined":p("The root of the template is undefined, check your selector");break;default:s=t}for(var o=0,u=s.length;o<u;o++)r[o]=s[o];r.length=u;var a="_s"+Math.floor(Math.random()*1e6)+"_",f="_a"+Math.floor(Math.random()*1e6)+"_",l=/^(\+)?([^\@\+]+)?\@?([^\+]+)?(\+)?$/,c={IMG:"src",INPUT:"value"},h=Array.isArray?function(e){return Array.isArray(e)}:function(e){return Object.prototype.toString.call(e)==="[object Array]"};return r},i.plugins={},i.libs={dojo:function(){typeof document.querySelector=="undefined"&&(i.plugins.find=function(e,t){return dojo.query(t,e)})},domassistant:function(){typeof document.querySelector=="undefined"&&(i.plugins.find=function(e,t){return r(e).cssSelect(t)}),DOMAssistant.attach({publicMethods:["compile","render","autoRender"],compile:function(e,t){return i([this]).compile(e,t)},render:function(e,t){return r(i([this]).render(e,t))[0]},autoRender:function(e,t){return r(i([this]).autoRender(e,t))[0]}})},jquery:function(){typeof document.querySelector=="undefined"&&(i.plugins.find=function(e,t){return jQuery(e).find(t)}),jQuery.fn.extend({directives:function(e){return this._pure_d=e,this},compile:function(e,t){return i(this).compile(this._pure_d||e,t)},render:function(e,t){return jQuery(i(this).render(e,this._pure_d||t))},autoRender:function(e,t){return jQuery(i(this).autoRender(e,this._pure_d||t))}})},mootools:function(){typeof document.querySelector=="undefined"&&(i.plugins.find=function(e,t){return r(e).getElements(t)}),Element.implement({compile:function(e,t){return i(this).compile(e,t)},render:function(e,t){return i([this]).render(e,t)},autoRender:function(e,t){return i([this]).autoRender(e,t)}})},prototype:function(){typeof document.querySelector=="undefined"&&(i.plugins.find=function(e,t){return e=e===document?e.body:e,typeof e=="string"?$$(e):r(e).select(t)}),Element.addMethods({compile:function(e,t,n){return i([e]).compile(t,n)},render:function(e,t,n){return i([e]).render(t,n)},autoRender:function(e,t,n){return i([e]).autoRender(t,n)}})},sizzle:function(){typeof document.querySelector=="undefined"&&(i.plugins.find=function(e,t){return Sizzle(t,e)})},sly:function(){typeof document.querySelector=="undefined"&&(i.plugins.find=function(e,t){return Sly(t,e)})}},function(){var e=typeof dojo!="undefined"&&"dojo"||typeof DOMAssistant!="undefined"&&"domassistant"||typeof jQuery!="undefined"&&"jquery"||typeof MooTools!="undefined"&&"mootools"||typeof Prototype!="undefined"&&"prototype"||typeof Sizzle!="undefined"&&"sizzle"||typeof Sly!="undefined"&&"sly";e&&i.libs[e](),typeof n!="undefined"&&(n.$p=i)}(),provide("pure",t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");(function(){"use strict";var e=n,t=/\s*([\$\w]+)\s*\(\s*(.*)\s*\)\s*/;e.clone=function(e){return JSON.parse(JSON.stringify(e))},e.extend=function(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]||e[n]}),e},e.preset=function(t,n){return n=e.clone(n),Object.keys(n).forEach(function(e){"undefined"==typeof t[e]&&(t[e]=n[e])}),t},e.objectToLowerCase=function(e,t){return Object.keys(e).forEach(function(t){var n;n=e[t],delete e[t],t=t.toLowerCase(),e[t]=n}),e},e.parseJsonp=function(e,n){var r=n.match(t),i,s;if(!r||!r[1]||!r[2])throw new Error("No JSONP matched");if(e!==r[1])throw new Error("JSONP callback doesn't match");return s=r[2],i=JSON.parse(s),i},e.uriEncodeObject=function(e){var t="";try{JSON.parse(JSON.stringify(e))}catch(n){return"ERR_CYCLIC_DATA_STRUCTURE"}return"object"!=typeof e?"ERR_NOT_AN_OBJECT":(Object.keys(e).forEach(function(n){var r,i;if("undefined"==typeof e[n])return;r=encodeURIComponent(n),i=encodeURIComponent(e[n]),t+="&"+r,null!==e[n]&&(t+="="+i)}),t.substring(1))},e.addParamsToUri=function(t,n){var r,i="",s;return t=t||"",i="",n=n||{},-1!==(s=t.indexOf("#"))&&(i=t.substr(s),t=t.substr(0,s)),r=e.uriEncodeObject(n),r.length>0&&(t.match(/\?/)?t+="&"+r:t+="?"+r),t+i}})(),provide("ahr2/utils",t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");(function(){"use strict";function e(e,t){function f(){a=!0,window[r]=undefined;try{delete window[r],s.removeChild(i)}catch(e){}}function l(){e.emit("abort"),f()}function c(){t.emit("abort"),f()}function h(){function e(e){var n={lengthComputable:!1,loaded:1,total:1};if(a)return;clearTimeout(u),t.emit("loadstart",n),e=JSON.parse(JSON.stringify(e)),t.emit("progress",n),n.target={result:e},t.emit("load",n),f()}function i(){t.emit("timeout",{}),t.emit("error",new Error("timeout")),f()}window[r]=e,n.timeout&&(u=setTimeout(i,n.timeout))}function p(){function a(e){t.emit("error",e)}var r={},u={};u[n.jsonp]=n.jsonpCallback,n.href=o(n.href,u),e.emit("loadstart",r);try{i.setAttribute("type","text/javascript"),i.setAttribute("async","async"),i.setAttribute("src",n.href),i.onerror=a,s.insertBefore(i,s.firstChild)}catch(l){e.emit("error",l)}setTimeout(f,12e4),e.emit("progress",r),e.emit("load",r)}var n=e.userOptions,r=n.jsonpCallback,i=document.createElement("script"),s=document.getElementsByTagName("head")[0]||document.documentElement,o=require("ahr2/utils").addParamsToUri,u,a;return setTimeout(p,0),e.abort=l,t.abort=c,h(),t}t.exports=e})(),provide("ahr2/browser/jsonp",t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");(function(){"use strict";function d(){}function m(e){var t=e.method.toUpperCase();if("HEAD"!==t&&"GET"!==t&&"DELETE"!==t&&"OPTIONS"!==t)return!0;if(e.body&&!e.forceAllowBody)throw new Error("The de facto standard is that '"+t+"' should not have a body.\n"+"Most web servers just ignore it. Please use 'query' rather than 'body'.\n"+"Also, you may consider filing this as a bug - please give an explanation.\n"+"Finally, you may allow this by passing { forceAllowBody: 'true' } ");if(e.body&&e.jsonp)throw new Error("The de facto standard is that 'jsonp' should not have a body (and I don't see how it could have one anyway).\nIf you consider filing this as a bug please give an explanation.")}function g(t){var n,s;n=c(e);if(!t)throw new Error("ARe yOu kiddiNg me? You have to provide some sort of options");"string"==typeof t&&(t={href:t});if(t.uri||t.url)console.log("Use `options.href`. `options.url` and `options.uri` are obsolete"),t.href=t.href||t.url||t.url;t.params&&(console.log("Use `options.query`. `options.params` is obsolete"),t.query=t.query||t.params),t.href?(s=r.parse(t.href,!0,!0),s.query&&t.query&&Object.keys(t.query).forEach(function(e){s.query[e]=t.query[e]}),delete s.href,delete s.host,delete s.search):s={protocol:t.protocol||f.protocol,host:t.host,auth:t.auth,hostname:t.hostname||f.hostname,port:t.port||f.port,pathname:r.resolve(f.pathname,t.pathname||"")||"/",query:t.query||i.parse(t.search||""),hash:t.hash},delete t.href,delete t.host,delete t.auth,delete t.hostname,delete t.port,delete t.path,delete t.search,delete t.query,delete t.hash;if("https:"===s.protocol||"443"===s.port||!0===t.ssl)t.ssl=!0,s.port=s.port||"443",s.protocol="https:";if("tcp:"===s.protocol||"tcps:"===s.protocol||"udp:"===s.protocol)t.method=t.method||"POST";return!t.method&&(t.body||t.encodedBody)&&(t.method="POST"),t.jsonp&&(t.jsonpCallback="jsonp_"+(new Date).valueOf(),t.dataType="jsonp",s.query[t.jsonp]=t.jsonpCallback),!s.auth&&t.username&&t.password?s.auth=t.username+":"+t.password:s.auth&&(s.username=s.auth.split(":")[0],s.password=s.auth.split(":")[1]),s.href=r.format(s),s=r.parse(s.href,!0,!0),h(t,n),h(t,s),t.syncback=t.syncback||function(){},t}function y(t){var n,r;return n=c(e),t.headers=t.headers||{},t.jsonp&&(t.headers.accept="text/javascript"),t.headers=p(t.headers||{}),t.headers=h(t.headers,n.headers),t.headers.host=t.hostname,t.headers=p(t.headers),t.contentType&&(t.headers["content-type"]=t.contentType),t.auth&&(t.headers.authorization="Basic "+u(t.auth)),t}function b(e,t){var n=!1;return"object"!=typeof e?!1:(Object.keys(e).forEach(function(t){var r=e[t];r instanceof s?n=!0:r instanceof o&&(n=!0)}),n)}function w(e,t){Object.keys(e).forEach(function(n){var r=e[n];r instanceof s?t.append(n,r):r instanceof o?r.forEach(function(e){t.append(n,e)}):t.append(n,r)})}function E(e){function t(){m(e);if(e.encodedBody)return;b(e.body)&&(e.encodedBody=new d,w(e.body,e.encodedBody)),e.body instanceof d&&(e.encodedBody=e.body);if(e.encodedBody instanceof d)return;"string"==typeof e.body&&(e.encodedBody=e.body),e.headers["content-type"]||(e.headers["content-type"]="application/json");if(!e.encodedBody){e.headers["content-type"].match(/application\/json/)||e.headers["content-type"].match(/text\/javascript/)?e.encodedBody=JSON.stringify(e.body):e.headers["content-type"].match(/application\/x-www-form-urlencoded/)&&(e.encodedBody=l(e.body));if(!e.encodedBody)throw new Error("'"+e.headers["content-type"]+"'"+"is not yet supported and you have not specified 'encodedBody'");e.headers["content-length"]=e.encodedBody.length}}function n(){if(e.body)throw new Error("You gave a body for one of HEAD, GET, DELETE, or OPTIONS");e.encodedBody="",e.headers["content-type"]=undefined,e.headers["content-length"]=undefined,e.headers["transfer-encoding"]=undefined,delete e.headers["content-type"],delete e.headers["content-length"],delete e.headers["transfer-encoding"]}if("file:"===e.protocol){e.header=undefined,delete e.header;return}e.headers["transfer-encoding"]=undefined,delete e.headers["transfer-encoding"],e.body||e.encodedBody?t(e):n(e)}var e,t=n,r=require("url"),i=require("querystring"),s=require("File"),o=require("FileList"),u=require("btoa"),a=require("ahr2/utils"),f,l,c,h,p;try{d=require("FormData")}catch(v){console
.warn("FormData does not exist; using a NOP instead")}try{f=require("./location")}catch(v){f=require("location")}l=a.uriEncodeObject,c=a.clone,h=a.preset,p=a.objectToLowerCase,e={ssl:!1,method:"GET",headers:{},redirectCount:0,redirectCountMax:5,followRedirect:!0,timeout:2e4},t.globalOptionKeys=function(){return Object.keys(e)},t.globalOption=function(t,n){if("undefined"==typeof n)return e[t];null===n&&(n=undefined),e[t]=n},t.setGlobalOptions=function(t){Object.keys(t).forEach(function(n){e[n]=t[n]})},t.handleOptions=function(e){return g(e),y(e),E(e),e}})(),provide("ahr2/options",t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");(function(e){"use strict";function f(e,t){var n,r=e.overrideResponseType||t.getResponseHeader("content-type")||"",i,s;r=r.toLowerCase(),t.responseType&&t.response?i=t.response:i=t.responseText,s=i.length;if("binary"===r){if(window.ArrayBuffer&&t.response instanceof window.ArrayBuffer)return t.response;if(e.responseEncoder)return e.responseEncoder(i);var o,u=Array(s);for(o=0;o<i.length;o+=1)u[o]=i.charCodeAt(o)&255;return u}if(r.indexOf("xml")>=0)return t.responseXML;if(r.indexOf("jsonp")>=0||r.indexOf("javascript")>=0)return console.log("forcing of jsonp not yet supported"),i;if(r.indexOf("json")>=0){try{n=JSON.parse(i)}catch(a){n=i}return n}return t.responseText}function l(e,t){function a(){e.emit("timeout",new Error("timeout after "+n.timeout+"ms"))}function l(){clearTimeout(o),o=setTimeout(a,n.timeout)}function c(e){var t=n.headers[e],s=e.toLowerCase();if(-1!==u.indexOf(e.toLowerCase())){i[s]||console.warn("Ignoring all attempts to set restricted header "+e+". See (http://www.w3.org/TR/XMLHttpRequest/#the-setrequestheader-method)"),i[s]=!0;return}try{r.setRequestHeader(e,t)}catch(o){console.error("failed to set header: "+e),console.error(o)}}var n=e.userOptions,r,s,o;return r=new XMLHttpRequest,s=r.upload,r.addEventListener("loadstart",function(t){e.emit("loadstart",t),l()},!0),r.addEventListener("progress",function(n){e.loaded||(e.loaded=!0,e.emit("progress",{}),e.emit("load",{})),t.loadstart||(t.headers=r.getAllResponseHeaders(),t.loadstart=!0,t.emit("loadstart",n)),t.emit("progress",n),l()},!0),r.addEventListener("load",function(e){r.status>=400&&(e.error=new Error(r.status)),e.target.result=f(n,r),t.emit("load",e)},!0),s.addEventListener("load",function(n){l(),e.loaded=!0,e.emit("load",n),t.loadstart=!0,t.emit("loadstart",{})},!0),s.addEventListener("progress",function(t){l(),e.emit("progress",t)},!0),r.addEventListener("abort",function(e){t.emit("abort",e)},!0),s.addEventListener("abort",function(t){e.emit("abort",t)},!0),r.addEventListener("error",function(e){t.emit("error",e)},!0),s.addEventListener("error",function(t){e.emit("error",t)},!0),r.addEventListener("timeout",function(t){e.emit("timeout",t)},!0),s.addEventListener("timeout",function(t){e.emit("timeout",t)},!0),t.on("loadend",function(){e.status=r.status,t.status=r.status,clearTimeout(o)}),n.username?r.open(n.method,n.href,!0,n.username,n.password):r.open(n.method,n.href,!0),Object.keys(n.headers).forEach(c),setTimeout(function(){"binary"===n.overrideResponseType&&(r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer");try{r.send(n.encodedBody)}catch(t){e.emit("error",t)}},1),e.abort=function(){r.abort()},t.abort=function(){r.abort()},t.browserRequest=r,t}function c(e,t){var i=e.userOptions;return n=n||require("url"),i.jsonp&&i.jsonpCallback?r(e,t):l(e,t)}var n,r=require("ahr2/browser/jsonp"),i={},s,o,u,a=!1;u=["Accept-Charset","Accept-Encoding","Connection","Content-Length","Cookie","Cookie2","Content-Transfer-Encoding","Date","Expect","Host","Keep-Alive","Referer","TE","Trailer","Transfer-Encoding","Upgrade","User-Agent","Via"],u.forEach(function(e,t,n){n[t]=e.toLowerCase()}),window.XMLHttpRequest||(window.XMLHttpRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")}),window.XDomainRequest,t.exports=c})(),provide("ahr2/browser",t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");(function(){"use strict";function s(e,t,n,r,i){try{process.nextTick(e,t,n,r,i)}catch(s){setTimeout(e,0,t,n,r,i)}}function a(){function o(e,n){e.error=n&&new Error(n),s(function(){t.emit("loadend",e)})}var t=new e,r=n(),i={lengthComputable:!1,loaded:0,total:undefined};return t.done=0,t.on("loadend",function(e){t.done+=1;if(t.done>1){console.warn("loadend called "+t.done+" times");return}e.target||(e.target={}),r.fulfill(t.error||e.error,t,e.target.result,e.error?!1:!0)}),t.on("timeout",function(e){t.error=e,o(e,"timeout")}),t.on("abort",function(e){o(e,"abort")}),t.on("error",function(e,n){t.error=e,i.error=e,n&&(i.lengthComputable=n.lengthComputable||!0,i.loaded=n.loaded||0,i.total=n.total),o(i)}),t.on("load",function(e){o(e)}),t.when=r.when,t}function f(e,t){var n,r=a(),s=a();if(t||e.callback)return f(e).when(t);"string"==typeof e&&(e={href:e}),i.handleOptions(e),r.userOptions=e,s.upload=r,r.on("error",function(e,t){s.error||s.emit("error",e,t)}),r.on("timeout",function(e){s.error||s.emit("timeout",e)}),r.on("abort",function(e){s.error||s.emit("abort",e)});try{var o="./node";n=require(o)}catch(u){n=require("ahr2/browser")}return n(r,s)}function l(e,t,n,r,i,s,o){return s=s||{},e&&(s.method=e),t&&(/^[\w-]{1,8}:.+/.exec(t)?s.href=t:s.pathname=t),i&&(s.jsonp=i),n&&(s.query=u(n||{},s.query||{})),r&&(s.body=r),f(s,o)}var e=require("events").EventEmitter,n=require("future"),r=require("join"),i,s,o,u;i=require("ahr2/options"),o=require("ahr2/utils"),u=o.preset,f.globalOptionKeys=i.globalOptionKeys,f.globalOption=i.globalOption,f.setGlobalOptions=i.setGlobalOptions,f.handleOptions=i.handleOptions,f.join=r,f.http=f,f.file=f,["HEAD","GET","DELETE","OPTIONS"].forEach(function(e){e=e.toLowerCase(),f[e]=function(t,n,r,i){return l(e,t,n,undefined,undefined,r,i)}}),["POST","PUT"].forEach(function(e){e=e.toLowerCase(),f[e]=function(t,n,r,i,s){return l(e,t,n,r,undefined,i,s)}}),f.jsonp=function(e,t,n,r,i){if(!t||"string"!=typeof t)throw new Error("'jsonp' is not an optional parameter.\nIf you believe that this should default to 'callback' ratherthan throwing an error, please file a bug");return l("GET",e,n,undefined,t,r,i)},f.https=function(e,t){return"string"==typeof e&&(e={href:e}),e.ssl=!0,e.protocol="https:",f(e,t)},f.tcp=function(e,t){return"string"==typeof e&&(e={href:e}),e.protocol="tcp:",f(e,t)},f.udp=function(e,t){return"string"==typeof e&&(e={href:e}),e.protocol="udp:",f(e,t)},t.exports=f})(),provide("ahr2",t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");(function(){"use strict";function e(e){return e instanceof n}function n(e){function s(){var e=Array.prototype.slice.call(arguments),t=i.shift();r=arguments;if(!t){n=!0;return}e.unshift(s),t.callback.apply(t.context,e)}function o(o,u){if("function"!=typeof o)throw new Error("`Sequence().then(callback [context])` requires that `callback` be a function and that `context` be `null`, an object, or a function");return i.push({callback:o,context:null===u?null:u||e,index:i.length}),n&&(n=!1,s.apply(null,r)),t}var t=this,n=!0,r,i=[];e=e||null,t.next=s,t.then=o}function r(e){return new n(e)}r.isSequence=e,t.exports=r})(),provide("sequence",t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");(function(){"use strict";function e(e){e.preventDefault(),e.stopPropagation()}function n(e){function t(t){t.preventDefault(),t.stopPropagation();var n=this.files||t.dataTransfer&&t.dataTransfer.files;e.call(this,n,t)}return t}function i(t,i,s){function l(e){var t=o.offset();t.right=t.left+t.width,t.bottom=t.top+t.height;if(e.pageX>t.right||e.pageY>t.bottom||e.pageY<t.top||e.pageX<t.left){c(e);return}u.css({top:e.pageY-10,left:e.pageX-10})}function c(e){u.css({top:-1e3,left:-1e3})}var o=r(s),u,a,f=n(t);a="updrop-file-chooser",u=r('<input type="file" class="'+a+'"'+' multiple="multiple"'+' style="'+" position: absolute;"+" opacity: 0;"+" top: -1000px;"+" left: -1000px;"+" z-index: 1000000;"+" margin: -10px 0pt 0pt -179px;"+" height: 30px;"+" margin: -10px 0pt 0pt -179px;"+" cursor: pointer;"+'"'+" >"),r(s).append(u),r(i).delegate(s+" input."+a,"change",f),r(i).delegate(s,"dragover",e),r(i).delegate(s,"drop",f),r(i).delegate(s,"mousemove",l),r(i).delegate(s,"mouseleave",c)}t.exports.create=i,t.exports.abstract=n,t.exports.handleDrag=e})(),provide("dropshare-client/vendor/updrop",t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");(function(){"use strict";function i(t,i,s,o){function u(){var i=location.hash,u,a,f="",l="";r=i,u=n.parse(i.substr(1),!0,!0),console.log(u);if(!0===t(r,i,u))return;console.log("pathname",u.pathname.split("/")),a=u.pathname.split("/"),e(o).hide(),e(s).removeClass("selected"),a.forEach(function(t){if(""===t)return;f+=o+".js-"+t+" ",l+=s+".js-"+t+" ",console.log("viewSelector",f),console.log("tabSelector",f),e(f).show(),e(l).addClass("selected")}),f+=o+".js-index",l+=s+".js-index",e(f).show(),e(l).addClass("selected")}function a(t){var r=n.resolve(location.href,e(this).attr("href")),i=location.href.split("#").shift();if(r.substr(0,i.length)!==i){console.log("Moving to a different directory.",r,i);return}r=r.substr(i.length-1),console.log(r),/^\/[^\/]?/.exec(r)}t=t||function(){},global.window.addEventListener("hashchange",u),e.domReady(function(){e(i).delegate(s+" a","click",a),e(i).delegate("a"+s,"click",a),location.hash=location.hash.substr(1)||"/",u()})}var e=require("ender"),n=require("url"),r=location.hash;t.exports.create=i})(),provide("dropshare-client/vendor/ui-tabs",t.exports)}(global),function(e){var t={exports:{}},n=t.exports,r=require("ender");(function(){"use strict";function a(e){return e<102?e+" B":e<104858?(e/1024).toFixed(1)+" KiB":e<107374182?(e/1048576).toFixed(1)+" MiB":(e/1073741824).toFixed(1)+" GiB"}function f(n,i){var s=[];e("#js-drop .js-no-links").hide(),i.forEach(function(t,r){var i=e(u);i.find(".js-id").text(""),i.find(".js-name").text(t.name),i.find(".js-ds-link").text(" "),i.find(".js-ds-link").attr("href","#"),i.find(".js-remove-file").hide(),s[r]={},s[r].link=i,s[r].file=n[r],e("#js-drop .js-uploadlist").append(i)}),t.post(location.pathname+"files/new",{},i).when(function(n,i,o){var u=new FormData;u.append("secret",o.secret),o.forEach(function(e,t){var n=s[t].file,r=s[t].link,i=location.host,o=location.protocol+"//"+i;u.append(e,n),console.log("formData append",e,n.name),r.find(".js-id").text(e),r.find(".js-progress").attr("max",n.size),r.find(".js-progress").find(".js-max").text(n.size),r.find(".js-name").remove(),r.find(".js-ds-link").text(i+"#"+e),r.find(".js-ds-link").attr("href",o+"#"+e)}),e("#js-drop .js-uploadlist")[0].style.display="none",e("#js-drop .js-uploadlist")[0].offsetHeight,e("#js-drop .js-uploadlist")[0].style.display="block",r.then(function(e){var n;n=t.post(location.pathname+"files",{},u),n.when(function(t,n,r){console.log("data at data2",o),o.forEach(function(e,t){console.log(s,t);var n=s[t].file,r=s[t].link;console.log("file, link",n,r),r.find(".js-progress").remove(),r.find(".js-byte-count").remove()}),e()}),console.log(n),n.upload.on("progress",function(e){var t=e.loaded,n,r,i,o,u;s.forEach(function(e,n){r=e.file,o=e.link,t>0?(i=r.size-t,i>0?u=r.size-i:(u=r.size,i=0),t-=u):(u=0,i=r.size),o.find(".js-progress").attr("value",u),o.find(".js-progress").find(".js-val").text(u),o.find(".js-byte-count").html("<br>"+a(u)+" of "+a(r.size))}),console.log("progressEv",e.loaded,e.total)})})})}function l(e){var t,n,r=[];if(!e){console.log("... looks drag-n-drop like litter to me.");return}if(!e.length){alert("looks like you tried to drop a folder, but your browser doesn't support that yet");return}for(t=0;t<e.length;t+=1)n=e[t],console.log(e[t]),r.push({type:n.type,name:n.name||n.fileName,size:n.size||n.fileSize,lastModifiedDate:n.lastModifiedDate,path:n.mozFullPath||n.webkitRelativePath}),o&&(o=!1,n.size>=104857600&&alert("Some browsers have issues with files as large as the ones you're trying to upload (100MiB+).If your browser becomes slow, unresponsive, or crashes; try using Chrome instead"));console.log(JSON.stringify(e)),f(e,r)}function c(n){var r=e(this).closest(".js-file-info").find(".js-id").text().trim(),i=confirm("Are you sure you want to delete this?"),s=this;if(!i)return;t.delete(location.protocol+"//"+location.host+location.pathname+"files/"+r).when(function(t,n,r){console.log("prolly deleted:",t,n,r),e(s).closest(".js-file-info").remove(),e("#js-drop .js-uploadlist .js-file-info").length||e("#js-drop .js-no-links").show()})}function h(t){var n=e(this).attr("data-downloadurl"),r;console.log("data-downloadurl",n),r=t.dataTransfer&&t.dataTransfer.setData("DownloadURL",n),r||alert("Sad Day! Your browser doesn't support drag-downloading files")}function p(){function a(t,n,s){if(!s||!s.success){alert("Sad day! Looks like a bad link.");return}i=i||s.result.name||s.result.fileName,o=location.protocol+"//"+location.host+location.pathname+"files/"+r+"/"+i,e("#itemview").children().length>0&&e("#itemview").children().remove();var a=o.split(".").pop();switch(a){case"jpg":case"png":case"gif":case"tif":e("#itemview").prepend('<img src="'+o+'" />');break;case"mp3":e("#itemview").prepend('<audio controls="controls"><source src="'+o+'" type="audio/mpeg" /></audio>');break;case"m4a":e("#itemview").prepend('<audio controls="controls"><source src="'+o+'" /></audio>');break;case"ogg":e("#itemview").prepend('<audio controls="controls"><source src="'+o+'" type="audio/ogg" /></audio>');break;case"mp4":e("#itemview").prepend('<video controls="controls"><source src="'+o+'" type="video/mp4" /></video>')}e(".js-dnd").attr("href",o),e(".js-dnd").attr("data-downloadurl",u+":"+decodeURIComponent(i)+":"+o),e("#js-loading").hide();if(s.result.expired){alert('Sad day! "'+(i||"That file")+"\" is no longer available. :'|");return}if(!s.result.sha1checksum&&!s.result.sha1sum&&!s.result.md5sum){alert("Wait for it... \njust. a. few. more. minutes... \nThe file is still uploading (or the upload failed{");return}}var n=location.hash.substr(1).split("/");if(/\/(s|share)/.exec(n[0]||n[1]))return n.shift(),n.shift(),location.hash=n.join("/"),!0;if(""===n[0])return!1;var r=n[0],i=n[1],s="dropshare-download.bin",o=location.protocol+"//"+location.host+location.pathname+"files/"+r+"/"+(i||s),u="application/octet-stream";return t.get(location.pathname+"meta/"+r).when(a),e("#js-loading").show(),e(".js-dnd").attr("href",o),e(".js-dnd").attr("data-downloadurl",u+":"+decodeURIComponent(i||s)+":"+o),e(".js-uiview").hide(),e(".js-share.js-uiview").show(),!0}function d(e,t,n){return p()}function v(){location.host.match(/dropsha.re$/)||e(".js-delete-notice").hide(),u=e("#js-drop .js-uploadlist").html(),e("#js-drop .js-uploadlist").html(""),i.create(l,"#js-drop",".js-dropzone"),i.create(l,"#js-drop",".js-uploadzone"),e("body").bind("dragover",i.handleDrag),e("body").bind("drop",i.abstract(l)),e("body").delegate(".js-remove-file","click",c),e("body").delegate(".js-dnd","dragstart",h),e(".js-uiview").hide(),s.create(d,"body",".js-tab",".js-uiview")}console.log("Hello from DropShare!");var e=require("ender"),t=require("ahr2"),n=require("pure").$p,r=require("sequence")(),i=require("dropshare-client/vendor/updrop"),s=require("dropshare-client/vendor/ui-tabs"),o=!0,u;e.domReady(v)})(),provide("dropshare-client",t.exports)}(global);